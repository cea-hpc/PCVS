#!/bin/sh 

grep_name(){
	read gline
	arg="$1"
	if test "$arg" != "" ; then 
		shift 1
		echo $gline | grep -i "$arg" | grep_name $@
	else 
		if test "$gline" != "" ; then 
			echo $gline
		fi
	fi
}

update_name(){
	read line
	while test "$line" != "" ; do 
		name="`echo $line | grep_name $@ `"
		if test "$name" != "" ; then 
		dir="`dirname $name`"
		fname="`basename $name .c`"
		echo -n $dir | sed s,"\./","",g | sed s,"/","\.",g
		echo ".test_$fname"
		fi
		read line
	done
}

 find . | grep -i "$1" | grep -v "~" | update_name $@